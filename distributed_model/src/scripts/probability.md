# Расчет вероятности успеха атаки через вычислительную мощность сети шахматистов

Ниже приведены итоговые формулы, используемые для оценки вероятности успеха атаки, которая зависит от суммарной вычислительной мощности сети участников, нормированного расстояния от сервера до участников, а также других параметров.

---

## 1. Вычислительная мощность (DP) в FLOPS

Для вычислительной мощности устройства (операции в двойной точности) используется формула:

\[
P = \text{dp\_flops\_per\_cycle} \times \text{num\_cores} \times \text{frequency\_ghz} \times 10^9
\]

Например, для 1-сокетного процессора Xeon E3-1275 с 4 ядрами (или скорректированным значением для конкретного измерения) и частотой 3.574 ГГц при \( \text{dp\_flops\_per\_cycle} = 8 \) теоретическое значение будет:

- \( P \approx 8 \times 4 \times 3.574 \times 10^9 \) FLOPS  
- То есть примерно 114 GFLOPS (если перевести в GFLOPS, разделив на \(10^9\)).

---

## 2. Нормированное расстояние

Физическое расстояние \(d_i\) (в км) от сервера до страны \(i\) (из топ-5 стран по числу участников) нормируется с использованием коэффициента масштабирования \(S\) (например, \(S = 2000\)) и параметра регуляризации \(a\). Итоговая формула:

\[
d_{\text{norm}} = a \times \frac{1}{5} \sum_{i=1}^{5} \frac{S}{d_i}
\]

где:
- \(S\) — коэффициент масштабирования,
- \(d_i\) — физическое расстояние от сервера до \(i\)-й страны из топ‑5 (по числу участников).

---

## 3. Отношение мощности сети

Мощность сети рассчитывается по следующей формуле:

\[
X = \frac{N \times \alpha \times P \times d_{\text{norm}} \times \delta(b) \times L}{P_{\text{req}}}
\]

где:
- \( N \) — количество участников сети,
- \(\alpha\) — доля доступной вычислительной мощности устройств (от 0 до 1),
- \( P \) — средняя вычислительная мощность одного участника (в FLOPS),
- \( d_{\text{norm}} \) — нормированное среднее расстояние до серверов,
- \(\delta(b)\) — нормированное отклонение от оптимального часа атаки,
- \( L \) — коэффициент распространения через лидеров (может быть 1 или отношение мощности лидеров к мощности одного участника),
- \( P_{\text{req}} \) — требуемая мощность атаки (в FLOPS).

---

## 4. Нормированное отклонение от оптимального часа атаки

Если \( t \) – заданное время (в часах, 24-часовой формат), а оптимальное время – 13:00, то:

\[
\delta(b) = 1 - \frac{\lvert t - 13 \rvert}{12}
\]

где 12 – максимальное отклонение, при котором \(\delta(b)\) становится 0.

---

## 5. Вероятность успеха атаки (логистическая функция)

Преобразование отношения \(X\) в вероятность успеха \(p\) осуществляется через логистическую функцию:

\[
p = \frac{1}{1 + \exp\bigl(-\beta \,(X - \gamma)\bigr)}
\]

где:
- \(\beta\) — коэффициент крутизны логистической функции,
- \(\gamma\) — пороговое значение, при котором \( p = 0.5 \).

---

## 6. Расчет требуемого количества участников для целевой вероятности успеха

Чтобы оценить, сколько участников сети необходимо для достижения целевой вероятности успеха \(p_{\text{target}}\), сначала находим целевое значение \(X_{\text{target}}\) из логистической функции:

\[
X_{\text{target}} = \gamma - \frac{1}{\beta}\ln\left(\frac{1}{p_{\text{target}}} - 1\right)
\]

Затем решаем уравнение относительно \(N\):

\[
N_{\text{required}} = \frac{X_{\text{target}} \times P_{\text{req}}}{\alpha \times P \times d_{\text{norm}} \times \delta(b) \times L}
\]

---

## Итоговый набор формул

1. **Вычислительная мощность (DP) в FLOPS:**

\[
P = \text{dp\_flops\_per\_cycle} \times \text{num\_cores} \times \text{frequency\_ghz} \times 10^9
\]

2. **Нормированное расстояние:**

\[
d_{\text{norm}} = a \times \frac{1}{5} \sum_{i=1}^{5} \frac{S}{d_i}
\]

3. **Отношение мощности сети:**

\[
X = \frac{N \times \alpha \times P \times d_{\text{norm}} \times \delta(b) \times L}{P_{\text{req}}}
\]

4. **Нормированное отклонение от оптимального часа атаки:**

\[
\delta(b) = 1 - \frac{\lvert t - 13 \rvert}{12}
\]

5. **Вероятность успеха атаки (логистическая функция):**

\[
p = \frac{1}{1 + \exp(-\beta\,(X - \gamma))}
\]

6. **Расчет требуемого количества участников для целевой вероятности \(p_{\text{target}}\):**

\[
X_{\text{target}} = \gamma - \frac{1}{\beta}\ln\left(\frac{1}{p_{\text{target}}} - 1\right)
\]

\[
N_{\text{required}} = \frac{X_{\text{target}} \times P_{\text{req}}}{\alpha \times P \times d_{\text{norm}} \times \delta(b) \times L}
\]

---

Эти формулы и приведенные расчеты позволяют оценить, какая суммарная вычислительная мощность сети, нормированная с учетом географических и временных факторов, необходима для достижения заданной вероятности успеха атаки.
